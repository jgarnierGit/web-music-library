export const useGeolocalizerStore = defineStore('geolocalizer', () => {
    /**
       const refKeys = ['sov_a3', 'adm0_a3', 'gu_a3', 'su_a3', 'brk_a3', 'postal', 'fips_10', 'iso_a2', 'iso_a2_eh', 'iso_a3', 'iso_a3_eh', 'iso_n3', 'iso_n3_eh', 'un_a3', 'wb_a2', 'wb_a3',
            'adm0_iso', 'adm0_tlc', 'adm0_a3_us', 'adm0_a3_fr', 'adm0_a3_ru', 'adm0_a3_es', 'adm0_a3_cn', 'adm0_a3_tw', 'adm0_a3_in', 'adm0_a3_np', 'adm0_a3_pk', 'adm0_a3_de', 'adm0_a3_gb', 'adm0_a3_br', 'adm0_a3_il', 'adm0_a3_ps', 'adm0_a3_sa', 'adm0_a3_eg', 'adm0_a3_ma', 'adm0_a3_pt', 'adm0_a3_ar', 'adm0_a3_jp',
            'adm0_a3_ko', 'adm0_a3_vn', 'adm0_a3_tr', 'adm0_a3_id', 'adm0_a3_pl', 'adm0_a3_gr', 'adm0_a3_it', 'adm0_a3_nl', 'adm0_a3_se', 'adm0_a3_bd', 'adm0_a3_ua'];

        const matchResult = {} as any;
        const regex = /^([a-zA-Z])[a-zA-Z0-9]*$/;
        countriesLayer.value.eachLayer((layer: any) => {
            for (const key in layer.feature.properties) {
                if (refKeys.includes(key.toLowerCase())) {
                    const refKey = layer.feature.properties[key];
                    if (!regex.test(refKey)) {
                        continue
                    }
                    if (!matchResult[refKey]) {
                        matchResult[refKey] = [layer.feature.properties["NAME"]]
                    } else if (!matchResult[refKey].includes(layer.feature.properties["NAME"])) {
                        matchResult[refKey].push(layer.feature.properties["NAME"])
                    }
                }
            }
        })
     */
    // extracted from shp.
    const mappingRefCountries = ref({ "FJI": ["Fiji"], "FJ": ["Fiji"], "TZA": ["Tanzania"], "TZ": ["Tanzania"], "SAH": ["W. Sahara"], "B28": ["W. Sahara"], "WS": ["W. Sahara"], "WI": ["W. Sahara"], "EH": ["W. Sahara"], "ESH": ["W. Sahara"], "MAR": ["W. Sahara", "Morocco"], "CAN": ["Canada"], "CA": ["Canada"], "US1": ["United States of America", "Puerto Rico"], "USA": ["United States of America"], "US": ["United States of America"], "KA1": ["Kazakhstan"], "KAZ": ["Kazakhstan"], "KZ": ["Kazakhstan"], "UZB": ["Uzbekistan"], "UZ": ["Uzbekistan"], "PNG": ["Papua New Guinea"], "PN1": ["Papua New Guinea"], "PG": ["Papua New Guinea"], "PP": ["Papua New Guinea"], "IDN": ["Indonesia"], "INDO": ["Indonesia"], "ID": ["Indonesia"], "ARG": ["Argentina", "Falkland Is."], "AR": ["Argentina"], "CHL": ["Chile"], "CL": ["Chile"], "CI": ["Chile", "Côte d'Ivoire"], "COD": ["Dem. Rep. Congo"], "DRC": ["Dem. Rep. Congo"], "CG": ["Dem. Rep. Congo", "Congo"], "CD": ["Dem. Rep. Congo", "Chad"], "ZR": ["Dem. Rep. Congo"], "ZAR": ["Dem. Rep. Congo"], "SOM": ["Somalia", "Somaliland"], "SO": ["Somalia"], "KEN": ["Kenya"], "KE": ["Kenya"], "SDN": ["Sudan"], "SD": ["Sudan"], "SU": ["Sudan"], "SDZ": ["Sudan"], "TCD": ["Chad"], "TD": ["Chad", "Trinidad and Tobago"], "HTI": ["Haiti"], "HT": ["Haiti"], "HA": ["Haiti"], "DOM": ["Dominican Rep."], "DO": ["Dominican Rep."], "DR": ["Dominican Rep."], "RUS": ["Russia"], "RS": ["Russia", "Serbia"], "RU": ["Russia"], "BHS": ["Bahamas"], "BS": ["Bahamas"], "BF": ["Bahamas", "Burkina Faso"], "GB1": ["Falkland Is.", "United Kingdom"], "FLK": ["Falkland Is."], "B12": ["Falkland Is."], "FK": ["Falkland Is."], "NOR": ["Norway"], "N": ["Norway"], "NO": ["Norway"], "DN1": ["Greenland", "Denmark"], "GRL": ["Greenland"], "GL": ["Greenland"], "FR1": ["Fr. S. Antarctic Lands", "France", "New Caledonia"], "ATF": ["Fr. S. Antarctic Lands"], "TF": ["Fr. S. Antarctic Lands"], "FS": ["Fr. S. Antarctic Lands"], "TLS": ["Timor-Leste"], "TL": ["Timor-Leste"], "TT": ["Timor-Leste", "Trinidad and Tobago"], "TP": ["Timor-Leste"], "TMP": ["Timor-Leste"], "ZAF": ["South Africa"], "ZA": ["South Africa", "Zambia"], "SF": ["South Africa"], "LSO": ["Lesotho"], "LS": ["Lesotho"], "LT": ["Lesotho", "Lithuania"], "MEX": ["Mexico"], "MX": ["Mexico"], "URY": ["Uruguay"], "UY": ["Uruguay"], "BRA": ["Brazil"], "BR": ["Brazil"], "BOL": ["Bolivia"], "BO": ["Bolivia", "Belarus"], "BL": ["Bolivia"], "PER": ["Peru"], "PE": ["Peru"], "COL": ["Colombia"], "CO": ["Colombia"], "PAN": ["Panama"], "PA": ["Panama", "Paraguay"], "PM": ["Panama"], "CRI": ["Costa Rica"], "CR": ["Costa Rica"], "CS": ["Costa Rica"], "NIC": ["Nicaragua"], "NI": ["Nicaragua", "Nigeria"], "NU": ["Nicaragua"], "HND": ["Honduras"], "HN": ["Honduras"], "HO": ["Honduras"], "SLV": ["El Salvador"], "SV": ["El Salvador"], "ES": ["El Salvador", "eSwatini", "Spain"], "GTM": ["Guatemala"], "GT": ["Guatemala"], "BLZ": ["Belize"], "BZ": ["Belize"], "BH": ["Belize"], "VEN": ["Venezuela"], "VE": ["Venezuela"], "GUY": ["Guyana"], "GY": ["Guyana"], "SUR": ["Suriname"], "SR": ["Suriname"], "NS": ["Suriname"], "FRA": ["France"], "F": ["France"], "FR": ["France"], "ECU": ["Ecuador"], "EC": ["Ecuador"], "PRI": ["Puerto Rico"], "PR": ["Puerto Rico"], "RQ": ["Puerto Rico"], "JAM": ["Jamaica"], "J": ["Jamaica", "Jordan", "Japan"], "JM": ["Jamaica"], "CU1": ["Cuba"], "CUB": ["Cuba"], "CU": ["Cuba"], "ZWE": ["Zimbabwe"], "ZW": ["Zimbabwe"], "ZI": ["Zimbabwe"], "BWA": ["Botswana"], "BW": ["Botswana"], "BC": ["Botswana"], "NAM": ["Namibia"], "NA": ["Namibia"], "WA": ["Namibia"], "SEN": ["Senegal"], "SN": ["Senegal"], "SG": ["Senegal"], "MLI": ["Mali"], "ML": ["Mali"], "MRT": ["Mauritania"], "MR": ["Mauritania"], "BEN": ["Benin"], "BJ": ["Benin"], "BN": ["Benin", "Brunei"], "NER": ["Niger"], "NE": ["Niger"], "NG": ["Niger", "Nigeria"], "NGA": ["Nigeria"], "CMR": ["Cameroon"], "CM": ["Cameroon"], "TGO": ["Togo"], "TG": ["Togo"], "TO": ["Togo"], "GHA": ["Ghana"], "GH": ["Ghana"], "CIV": ["Côte d'Ivoire"], "IV": ["Côte d'Ivoire"], "GIN": ["Guinea"], "GN": ["Guinea"], "GV": ["Guinea"], "GNB": ["Guinea-Bissau"], "GW": ["Guinea-Bissau"], "PU": ["Guinea-Bissau"], "LBR": ["Liberia"], "LR": ["Liberia"], "LI": ["Liberia"], "SLE": ["Sierra Leone"], "SL": ["Sierra Leone", "Somaliland"], "BFA": ["Burkina Faso"], "UV": ["Burkina Faso"], "CAF": ["Central African Rep."], "CF": ["Central African Rep.", "Congo"], "CT": ["Central African Rep."], "COG": ["Congo"], "GAB": ["Gabon"], "GA": ["Gabon", "Gambia"], "GB": ["Gabon", "United Kingdom"], "GNQ": ["Eq. Guinea"], "GQ": ["Eq. Guinea"], "EK": ["Eq. Guinea"], "ZMB": ["Zambia"], "ZM": ["Zambia"], "MWI": ["Malawi"], "MW": ["Malawi"], "MI": ["Malawi"], "MOZ": ["Mozambique"], "MZ": ["Mozambique"], "SWZ": ["eSwatini"], "WZ": ["eSwatini"], "SZ": ["eSwatini", "Switzerland"], "AGO": ["Angola"], "AO": ["Angola"], "BDI": ["Burundi"], "BI": ["Burundi"], "BY": ["Burundi", "Belarus"], "IS1": ["Israel", "Palestine"], "ISR": ["Israel"], "IS": ["Israel", "Iceland"], "IL": ["Israel"], "PSX": ["Israel", "Palestine"], "LBN": ["Lebanon"], "LB": ["Lebanon"], "LE": ["Lebanon"], "MDG": ["Madagascar"], "MG": ["Madagascar", "Mongolia"], "MA": ["Madagascar", "Morocco"], "PAL": ["Palestine"], "PS": ["Palestine"], "PSE": ["Palestine"], "GZ": ["Palestine"], "WBG": ["Palestine"], "GMB": ["Gambia"], "GM": ["Gambia", "Germany"], "TUN": ["Tunisia"], "TN": ["Tunisia"], "TS": ["Tunisia"], "DZA": ["Algeria"], "DZ": ["Algeria"], "AG": ["Algeria"], "JOR": ["Jordan"], "JO": ["Jordan"], "ARE": ["United Arab Emirates"], "AE": ["United Arab Emirates"], "QAT": ["Qatar"], "QA": ["Qatar"], "KWT": ["Kuwait"], "KW": ["Kuwait"], "KU": ["Kuwait"], "IRQ": ["Iraq"], "IZ": ["Iraq"], "IQ": ["Iraq"], "OMN": ["Oman"], "OM": ["Oman"], "MU": ["Oman"], "VUT": ["Vanuatu"], "VU": ["Vanuatu"], "NH": ["Vanuatu"], "KHM": ["Cambodia"], "KH": ["Cambodia"], "CB": ["Cambodia"], "THA": ["Thailand"], "TH": ["Thailand"], "LAO": ["Laos"], "LA": ["Laos"], "MMR": ["Myanmar"], "MM": ["Myanmar"], "BM": ["Myanmar"], "VNM": ["Vietnam"], "VN": ["Vietnam"], "VM": ["Vietnam"], "PRK": ["North Korea"], "KP": ["North Korea"], "KN": ["North Korea"], "KOR": ["South Korea"], "KR": ["South Korea"], "KS": ["South Korea"], "MNG": ["Mongolia"], "MN": ["Mongolia"], "IND": ["India"], "IN": ["India"], "BGD": ["Bangladesh"], "BD": ["Bangladesh"], "BG": ["Bangladesh", "Bulgaria"], "BTN": ["Bhutan"], "BT": ["Bhutan"], "NPL": ["Nepal"], "NP": ["Nepal"], "PAK": ["Pakistan"], "PK": ["Pakistan"], "AFG": ["Afghanistan"], "AF": ["Afghanistan"], "TJK": ["Tajikistan"], "TJ": ["Tajikistan"], "TI": ["Tajikistan"], "KGZ": ["Kyrgyzstan"], "KG": ["Kyrgyzstan"], "TKM": ["Turkmenistan"], "TM": ["Turkmenistan"], "TX": ["Turkmenistan"], "IRN": ["Iran"], "IR": ["Iran"], "SYR": ["Syria"], "SY": ["Syria"], "ARM": ["Armenia"], "AM": ["Armenia"], "SWE": ["Sweden"], "S": ["Sweden"], "SW": ["Sweden"], "SE": ["Sweden"], "BLR": ["Belarus"], "UKR": ["Ukraine"], "UA": ["Ukraine"], "UP": ["Ukraine"], "POL": ["Poland"], "PL": ["Poland"], "AUT": ["Austria"], "A": ["Austria"], "AU": ["Austria", "Australia"], "AT": ["Austria"], "HUN": ["Hungary"], "HU": ["Hungary"], "MDA": ["Moldova"], "MD": ["Moldova"], "ROU": ["Romania"], "RO": ["Romania"], "ROM": ["Romania"], "LTU": ["Lithuania"], "LH": ["Lithuania"], "LVA": ["Latvia"], "LV": ["Latvia"], "LG": ["Latvia"], "EST": ["Estonia"], "EN": ["Estonia"], "EE": ["Estonia"], "DEU": ["Germany"], "D": ["Germany"], "DE": ["Germany"], "BGR": ["Bulgaria"], "BU": ["Bulgaria"], "GRC": ["Greece"], "GR": ["Greece"], "TUR": ["Turkey"], "TR": ["Turkey"], "TU": ["Turkey"], "ALB": ["Albania"], "AL": ["Albania"], "HRV": ["Croatia"], "HR": ["Croatia"], "CHE": ["Switzerland"], "CH": ["Switzerland", "China"], "LUX": ["Luxembourg"], "L": ["Luxembourg"], "LU": ["Luxembourg"], "BEL": ["Belgium"], "B": ["Belgium"], "BE": ["Belgium"], "NL1": ["Netherlands"], "NLD": ["Netherlands"], "NL": ["Netherlands"], "PRT": ["Portugal"], "PR1": ["Portugal"], "P": ["Portugal"], "PO": ["Portugal"], "PT": ["Portugal"], "ESP": ["Spain"], "E": ["Spain"], "SP": ["Spain"], "IRL": ["Ireland"], "EI": ["Ireland"], "IE": ["Ireland"], "NCL": ["New Caledonia"], "NC": ["New Caledonia"], "SLB": ["Solomon Is."], "SB": ["Solomon Is."], "BP": ["Solomon Is."], "NZ1": ["New Zealand"], "NZL": ["New Zealand"], "NZ": ["New Zealand"], "AU1": ["Australia"], "AUS": ["Australia"], "AS": ["Australia"], "LKA": ["Sri Lanka"], "LK": ["Sri Lanka"], "CE": ["Sri Lanka"], "CH1": ["China"], "CHN": ["China", "Taiwan"], "CN": ["China", "N. Cyprus"], "TWN": ["China", "Taiwan"], "TW": ["Taiwan"], "ITA": ["Italy"], "I": ["Italy"], "IT": ["Italy"], "DNK": ["Denmark"], "DK": ["Denmark"], "DA": ["Denmark"], "GBR": ["United Kingdom"], "UK": ["United Kingdom"], "ISL": ["Iceland"], "IC": ["Iceland"], "AZE": ["Azerbaijan"], "AZ": ["Azerbaijan"], "AJ": ["Azerbaijan"], "GEO": ["Georgia"], "GE": ["Georgia"], "GG": ["Georgia"], "PHL": ["Philippines"], "PH": ["Philippines"], "RP": ["Philippines"], "MYS": ["Malaysia"], "MY": ["Malaysia"], "BRN": ["Brunei"], "BX": ["Brunei"], "SVN": ["Slovenia"], "SLO": ["Slovenia"], "SI": ["Slovenia"], "FI1": ["Finland"], "FIN": ["Finland"], "FI": ["Finland"], "SVK": ["Slovakia"], "SK": ["Slovakia"], "LO": ["Slovakia"], "CZE": ["Czechia"], "CZ": ["Czechia"], "EZ": ["Czechia"], "ERI": ["Eritrea"], "ER": ["Eritrea"], "JPN": ["Japan"], "JA": ["Japan"], "JP": ["Japan"], "PRY": ["Paraguay"], "PY": ["Paraguay"], "YEM": ["Yemen"], "YE": ["Yemen"], "YM": ["Yemen"], "RY": ["Yemen"], "SAU": ["Saudi Arabia"], "SA": ["Saudi Arabia"], "ATA": ["Antarctica"], "AQ": ["Antarctica"], "AY": ["Antarctica"], "CYN": ["N. Cyprus"], "CYP": ["N. Cyprus", "Cyprus"], "CY": ["Cyprus"], "MO": ["Morocco"], "EGY": ["Egypt"], "EG": ["Egypt"], "LBY": ["Libya"], "LY": ["Libya"], "ETH": ["Ethiopia"], "ET": ["Ethiopia"], "DJI": ["Djibouti"], "DJ": ["Djibouti"], "SOL": ["Somaliland"], "UGA": ["Uganda"], "UG": ["Uganda"], "RWA": ["Rwanda"], "RW": ["Rwanda"], "BIH": ["Bosnia and Herz."], "BiH": ["Bosnia and Herz."], "BK": ["Bosnia and Herz."], "BA": ["Bosnia and Herz."], "MKD": ["North Macedonia"], "NM": ["North Macedonia"], "MK": ["North Macedonia"], "SRB": ["Serbia", "Kosovo"], "RI": ["Serbia"], "YF": ["Serbia"], "MNE": ["Montenegro"], "ME": ["Montenegro"], "MJ": ["Montenegro"], "KOS": ["Kosovo"], "KO": ["Kosovo"], "KV": ["Kosovo"], "XK": ["Kosovo"], "KSV": ["Kosovo"], "TTO": ["Trinidad and Tobago"], "SDS": ["S. Sudan"], "SS": ["S. Sudan"], "SSD": ["S. Sudan"] } as any);

    return { mappingRefCountries };
});